(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{JuWA:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var n=a("q1tI"),r=a.n(n),i=a("vOnD"),o=a("tc9R"),l=a("JLKy"),c=i.b.label.withConfig({displayName:"Radio__Label",componentId:"sc-1vhigvu-0"})(["position:relative;height:30px;cursor:pointer;input{display:none;}span{position:relative;display:flex;justify-content:center;align-items:center;color:var(--darkgrey);background:var(--white);width:100%;height:100%;border:1px solid var(--grey);font-weight:var(--bold);padding:5px 10px;}input:checked + span{background:var(--blue);color:var(--white);}"]),s=i.b.input.withConfig({displayName:"Radio__RadioStyles",componentId:"sc-1vhigvu-1"})([""]);function d(e){var t=e.children,a=e.checked;return r.a.createElement(c,null,r.a.createElement(s,{type:"radio",name:"radio",value:t,defaultChecked:a}),r.a.createElement("span",null,t))}var m=a("VHpo"),u=a("uF5k"),p=i.b.main.withConfig({displayName:"CalendarContainer__CalendarStyles",componentId:"sc-1y8dvme-0"})(["display:grid;grid-template-columns:80px 1fr;background:var(--white);border-radius:6px;margin:0 10px 20px;overflow:scroll;"]);function f(e){var t=e.children;return r.a.createElement(p,null,t)}var g=a("jnf0"),v=i.b.div.withConfig({displayName:"HoursColumn__HoursStyle",componentId:"oayc1a-0"})(["position:sticky;top:0;left:0;z-index:999999;background:var(--white);.header{position:sticky;top:0;left:0;z-index:99999;background:var(--white);}.hour{height:var(--calendarVisitHeight);display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid var(--grey);border-right:1px solid var(--grey);}"]);function h(){return r.a.createElement(v,null,r.a.createElement("div",{className:"header"},r.a.createElement("p",null,"Godz")),g.a.map((function(e){var t=e.start;return r.a.createElement("div",{className:"hour",key:t},r.a.createElement("p",{className:"start"},t))})))}var b=a("wd/R"),E=a.n(b),y=a("qNdB"),x=a("5Wrh"),w=i.b.h3.withConfig({displayName:"EditVisit__Title",componentId:"zh51yd-0"})([""]),k=i.b.form.withConfig({displayName:"EditVisit__Form",componentId:"zh51yd-1"})(["display:grid;grid-template-columns:repeat(2,1fr);gap:10px;.submit{grid-column:1 / 2;border:none;background:var(--blue);color:white;border-radius:6px;padding:10px 0;}.delete{grid-column:2 / -1;}"]),N=i.b.label.withConfig({displayName:"EditVisit__Label",componentId:"zh51yd-2"})(["position:relative;display:grid;grid-template-columns:1fr;gap:5px;&.day,&.services{grid-column:1 / -1;}&.end,&.start{margin-bottom:10px;}input,select{border:1px solid var(--blue);border-radius:6px;padding:5px 0;}input[type=text]{padding:5px;}.filtered{position:absolute;border:1px solid var(--blue);border-radius:6px;top:0;left:0;width:100%;transform:translateY(100%);z-index:99999;background:var(--white);ul{color:black;li{list-style:none;margin:5px;border-bottom:1px solid var(--grey);}}}"]);function C(e){var t=e.workerName,a=e.dateVisit,i=e.timeStart,o=e.timeEnd,l=e.visitServices,c=e.customerId,s=e.visitId,d=e.close,m=Object(n.useState)({worker:t,date:a.format("YYYY-MM-DD"),start:i,end:o,services:l}),p=m[0],f=m[1],v=Object(n.useState)(c),h=v[0],b=v[1],E=p.worker,C=p.date,z=p.start,S=p.end,_=p.services,I=r.a.useContext(u.b),j=I.customers;I.visits;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,"Edytuj wizytę"),r.a.createElement(k,{onChange:function(e){var t;"customer"!==e.target.name&&f(Object.assign({},p,((t={})[e.target.name]=e.target.value,t)))},onSubmit:function(e){e.preventDefault();var t=h;y.a.collection("customers").doc(t).collection("visits").doc(s).set(Object.assign({},p)).then((function(){d(!1),window.location.reload()}))}},r.a.createElement(N,{className:"worker"},r.a.createElement("span",null,"Pracownik: "),r.a.createElement("select",{defaultValue:E,name:"worker"},r.a.createElement("option",{value:"Pracownik 1"},"Pracownik 1"),r.a.createElement("option",{value:"Pracownik 2"},"Pracownik 2"),r.a.createElement("option",{value:"Pracownik 3"},"Pracownik 3"))),r.a.createElement(N,{className:"customer"},r.a.createElement("span",null,"Klient: "),r.a.createElement("select",{defaultValue:h,onChange:function(e){return b(e.target.value)},name:"customer",required:!0},r.a.createElement("option",null),j.map((function(e){var t=e.firstName,a=e.lastName,n=e.customerId,i=t+" "+a;return r.a.createElement("option",{key:n,value:n},i)})))),r.a.createElement(N,{className:"day"},r.a.createElement("span",null,"Dzień: "),r.a.createElement("input",{type:"date",name:"date",defaultValue:C})),r.a.createElement(N,{className:"services"},r.a.createElement("span",null,"Usługi: "),r.a.createElement("select",{defaultValue:_,name:"services"},r.a.createElement("option",{value:"strzyżenie"},"strzyżenie"),r.a.createElement("option",{value:"koloryzacja"},"koloryzacja"),r.a.createElement("option",{value:"modelowanie"},"modelowanie"))),r.a.createElement(N,{className:"start"},r.a.createElement("span",null,"Początek wizyty: "),r.a.createElement("select",{defaultValue:z,name:"start"},g.a.map((function(e){var t=e.start;return r.a.createElement("option",{key:t,value:t},t)})))),r.a.createElement(N,{className:"end"},r.a.createElement("span",null,"Koniec wizyty: "),r.a.createElement("select",{defaultValue:S,name:"end"},g.a.filter((function(e){return e.end>z&&e})).map((function(e){var t=e.end;return r.a.createElement("option",{key:t,value:t},t)})))),r.a.createElement("input",{className:"submit",type:"submit",value:"zapisz"}),r.a.createElement(x.a,{secondary:!0,className:"delete",onClick:function(e){e.preventDefault();var t=h;y.a.collection("customers").doc(t).collection("visits").doc(s).delete().then((function(){d(!1),window.location.reload()}))}},"usuń")))}C.defaultProps={dateVisit:E()(),workerName:g.b[0].name,timeStart:g.a[0].start,timeEnd:g.a[0].end};var z=a("R/IG"),S=function(e,t){e=e.split(":"),t=t.split(":");var a=new Date(0,0,0,e[0],e[1],0),n=new Date(0,0,0,t[0],t[1],0).getTime()-a.getTime();return Math.floor(n/1e3/60/60*2)},_=i.b.div.withConfig({displayName:"Visit__VisitStyles",componentId:"qwnt7t-0"})(["display:flex;justify-content:space-between;align-items:center;position:relative;position:absolute;top:",";left:5px;width:calc(100% - 10px);height:",";background:",";border-radius:6px;&::before{content:'';position:absolute;top:0;left:0;height:100%;width:8px;border-top-left-radius:6px;border-bottom-left-radius:6px;background:",";}.leftSide{margin-left:8px;height:",";padding:",";.name{font-size:16px;span{font-size:12px;}}.services{font-size:12px;}}.rightSide{display:flex;justify-content:space-between;flex-direction:column;align-items:center;height:100%;padding:0 5px;p{font-size:10px;color:var(--darkgrey);}.start{padding-top:5px;}.end{padding-bottom:5px;}.line{width:1px;border:0.5px dashed var(--darkgrey);flex:1;}}"],(function(e){return e.top+5+"px"}),(function(e){var t=e.height,a=e.visitLength;return a>0?"calc("+(t*a-10)+"px)":"calc("+(t-10)+"px)"}),(function(e){var t=e.color;return"rgb("+t.r+", "+t.g+", "+t.b+")"}),(function(e){var t=e.color;return"rgb("+(t.r-30)+", "+(t.g-30)+", "+(t.b-30)+")"}),(function(e){return e.visitLength>2&&"100%"}),(function(e){return e.visitLength>2?"10px":"0 10px"}));function I(e){var t=e.top,a=e.color,i=e.visit,o=e.height,l=Object(n.useState)(!1),c=l[0],s=l[1],d=i.firstName,m=i.lastName,u=i.start,p=i.end,f=i.services,g=i.worker,v=i.date,h=E()(v),b=function(){return s(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{top:t,color:a,visitLength:S(u,p),height:o+1,onClick:b},r.a.createElement("div",{className:"leftSide"},r.a.createElement("p",{className:"name"},d," ",m),r.a.createElement("p",{className:"services"},f)),r.a.createElement("div",{className:"rightSide"},r.a.createElement("p",{className:"start"},u),r.a.createElement("div",{className:"line"}),r.a.createElement("p",{className:"end"},p))),r.a.createElement(z.a,{open:c,close:b},r.a.createElement(C,{close:s,workerName:g,timeStart:u,timeEnd:p,dateVisit:h,visitServices:f,customerId:i.customerId,visitId:i.visitId})))}var j=a("JU4W"),V=i.b.div.withConfig({displayName:"Field__FieldStyles",componentId:"bfgzxb-0"})(["border-bottom:1px solid var(--grey);border-right:1px solid var(--grey);height:var(--calendarVisitHeight);cursor:pointer;"]);function D(e){var t=e.timeStart,a=e.timeEnd,i=e.workerName,o=e.color,l=e.date,c=r.a.useContext(u.b),s=Object(n.useState)(0),d=s[0],m=s[1],p=Object(n.useState)(0),f=p[0],g=p[1],v=Object(n.useState)(!1),h=v[0],b=v[1],E=Object(n.useState)([]),y=E[0],x=E[1],w=r.a.createRef(),k=c.visits;Object(n.useEffect)((function(){m(w.current.offsetTop),g(w.current.clientHeight),x(k)}),[w,y]);var N=function(){0===w.current.children.length&&b(!h)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{ref:w,timeStart:t,timeEnd:a,workerName:i,onClick:N},y&&y.map((function(e){if(e.worker===i&&t===e.start&&e.date===l.format("YYYY-MM-DD"))return r.a.createElement(I,{key:e.visitId,visit:e,top:d,color:o,height:f})}))),r.a.createElement(z.a,{open:h,close:N},r.a.createElement(j.a,{workerName:i,dateVisit:l,timeStart:t,timeEnd:a,close:b})))}var O=i.b.div.withConfig({displayName:"WorkersColumn__WorkersStyle",componentId:"sc-1lh5kcp-0"})(["display:grid;grid-template-columns:",";.column{position:relative;min-width:300px;}.header{position:sticky;top:0;left:0;z-index:99999;background:var(--white);}"],(function(e){var t=e.count;return t&&"repeat("+t+", 1fr)"})),P=i.b.div.withConfig({displayName:"WorkersColumn__WorkerColor",componentId:"sc-1lh5kcp-1"})(["width:20px;height:20px;background:",";margin-right:5px;border-radius:6px;"],(function(e){var t=e.color;return"rgb("+t.r+", "+t.g+", "+t.b+")"}));function Y(e){var t=e.date;return r.a.createElement(O,{count:g.b.length},g.b.map((function(e){var a=e.id,n=e.name,i=e.color;return r.a.createElement("div",{className:"column",key:a},r.a.createElement("div",{className:"header"},r.a.createElement(P,{color:i}),r.a.createElement("p",null,n)),g.a.map((function(e){var a=e.start,o=e.end;return r.a.createElement(D,{key:a,timeStart:a,timeEnd:o,workerName:n,color:i,date:t})})))})))}var F=i.b.div.withConfig({displayName:"calendar__CalendarDate",componentId:"sc-1y8c7cp-0"})(["display:flex;justify-content:center;align-items:center;h2{text-align:center;padding:0 5px;font-size:clamp(16px,20px,24px);white-space:nowrap;}button{border:none;background:transparent;font-size:32px;transition:transform .3s;&:nth-child(1):hover{transform:translateX(-4px);}&:nth-child(3):hover{transform:translateX(4px);}}"]),M=i.b.form.withConfig({displayName:"calendar__FormStyles",componentId:"sc-1y8c7cp-1"})(["display:flex;label:nth-child(1) span{border-top-left-radius:6px;border-bottom-left-radius:6px;}label:nth-child(2) span{border-top-right-radius:6px;border-bottom-right-radius:6px;border-left:none;}"]);function W(){var e=Object(n.useState)(),t=e[0],a=e[1],i=r.a.useContext(u.b).date;Object(n.useEffect)((function(){a(i.clone())}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,"Kalendarz"),r.a.createElement(l.a,null,r.a.createElement(M,{className:"calendarForm",onChange:function(e){return console.log(e.target.value)}},r.a.createElement(d,{checked:!0},"Dzień"),r.a.createElement(d,null,"Tydzień")),r.a.createElement(F,{className:"calendarDate"},r.a.createElement("button",{onClick:function(){a(t.clone().subtract(1,"day"))}},"⇠"),r.a.createElement("h2",null,t&&t.format("DD MMMM YYYY")),r.a.createElement("button",{onClick:function(){a(t.clone().add(1,"day"))}},"⇢")),r.a.createElement(m.a,{className:"calendarWorkers",template:"Pracownicy"},[{name:"Wszyscy"},{name:"Pracownik 1"},{name:"Pracownik 2"},{name:"Pracownik 3"}])),r.a.createElement(f,null,r.a.createElement(h,null),r.a.createElement(Y,{date:t})))}}}]);
//# sourceMappingURL=component---src-pages-calendar-js-3498815405c03057b442.js.map