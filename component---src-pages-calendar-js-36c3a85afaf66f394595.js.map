{"version":3,"sources":["webpack:///./src/components/Radio.js","webpack:///./src/templates/Calendar/CalendarContainer.js","webpack:///./src/templates/Calendar/HoursColumn.js","webpack:///./src/components/EditVisit.js","webpack:///./src/utils/getVisitLength.js","webpack:///./src/templates/Calendar/Visit.js","webpack:///./src/templates/Calendar/Field.js","webpack:///./src/templates/Calendar/WorkersColumn.js","webpack:///./src/pages/calendar.js"],"names":["Label","styled","label","RadioStyles","input","Radio","children","checked","type","name","value","defaultChecked","CalendarStyles","main","CalendarContainer","HoursStyle","div","HoursColumns","className","hours","map","start","key","Title","h3","Form","form","EditVisit","workerName","dateVisit","timeStart","timeEnd","visitServices","customerId","visitId","close","useState","worker","date","format","end","services","newVisit","setNewVisit","visitCustomer","setVisitCustomer","context","React","useContext","MainContext","customers","visits","onChange","e","target","onSubmit","preventDefault","id","db","collection","doc","set","then","window","location","reload","defaultValue","required","firstName","lastName","fullName","filter","hour","Button","secondary","onClick","delete","defaultProps","moment","workers","getVisitLength","split","startDate","Date","diff","getTime","Math","floor","VisitStyles","top","height","visitLength","color","r","g","b","Visit","visit","isOpen","setIsOpen","toggleEditModal","Modal","open","FieldStyles","Field","offTop","setOffTop","setHeight","isModal","setIsModal","allVisits","setAllVisits","myRef","createRef","useEffect","current","offsetTop","clientHeight","toggleModal","length","ref","setOpen","AddVisit","WorkersStyle","count","WorkerColor","WorkersColumns","CalendarDate","FormStyles","Calendar","setValue","clone","Heading","Panel","console","log","subtract","add","Select","template"],"mappings":"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","file":"component---src-pages-calendar-js-36c3a85afaf66f394595.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    position: relative;\r\n    height: 30px;\r\n    cursor: pointer;\r\n\r\n    input {\r\n        display: none;\r\n    }\r\n\r\n    span {\r\n        position: relative;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        color: var(--darkgrey);\r\n        background: var(--white);\r\n        width: 100%;\r\n        height: 100%;\r\n        border: 1px solid var(--grey);\r\n        font-weight: var(--bold);\r\n        padding: 5px 10px;\r\n\r\n    }\r\n\r\n    input:checked + span{\r\n        background: var(--blue);\r\n        color: var(--white);\r\n    }\r\n\r\n`\r\n\r\nconst RadioStyles = styled.input`\r\n`\r\n\r\nexport default function Radio({children, checked}) {\r\n    return (\r\n        <Label>\r\n            <RadioStyles type=\"radio\" name=\"radio\" value={children} defaultChecked={checked}/>\r\n            <span>{children}</span>\r\n        </Label>\r\n    )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst CalendarStyles = styled.main`\r\n    display: grid;\r\n    grid-template-columns: 80px 1fr;\r\n    background: var(--white);\r\n    border-radius: 6px;\r\n    margin: 0 10px 20px;\r\n    overflow: scroll;\r\n`\r\n\r\nexport default function CalendarContainer({children}) {\r\n    return (\r\n        <CalendarStyles>\r\n            {children}\r\n        </CalendarStyles>\r\n    )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { hours } from '../../context/data';\r\n\r\nconst HoursStyle = styled.div`\r\n    position: sticky;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 999999;\r\n    background: var(--white);\r\n\r\n    .header {\r\n        position: sticky;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 99999;\r\n        background: var(--white);\r\n    }\r\n\r\n    .hour {\r\n        height: var(--calendarVisitHeight);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-direction: column;\r\n        border-bottom: 1px solid var(--grey);\r\n        border-right: 1px solid var(--grey);\r\n    }\r\n\r\n`\r\n\r\nexport default function HoursColumns() {\r\n    return (\r\n        <HoursStyle>\r\n            <div className=\"header\">\r\n                <p>Godz</p>\r\n            </div>\r\n            {hours.map(({ start }) => (\r\n                <div className=\"hour\" key={start}>\r\n                    <p className=\"start\">{start}</p>\r\n                </div>\r\n            ))}\r\n        </HoursStyle>\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport { hours, workers } from '../context/data';\r\nimport moment from 'moment';\r\nimport MainContext from '../context/MainContext';\r\nimport { db } from '../services/firebase';\r\nimport Button from './Button';\r\n\r\nconst Title = styled.h3`\r\n\r\n`\r\n\r\nconst Form = styled.form`\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 10px;\r\n\r\n    .submit {\r\n        grid-column: 1 / 2;\r\n        border: none;\r\n        background: var(--blue);\r\n        color: white;\r\n        border-radius: 6px;\r\n        padding: 10px 0;\r\n    }\r\n\r\n    .delete {\r\n        grid-column: 2 / -1;\r\n    }\r\n`\r\n\r\nconst Label = styled.label`\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 5px;\r\n\r\n    &.day,\r\n    &.services {\r\n        grid-column: 1 / -1;\r\n    }\r\n\r\n    &.end,\r\n    &.start {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    input,\r\n    select {\r\n        border: 1px solid var(--blue);\r\n        border-radius: 6px;\r\n        padding: 5px 0;\r\n    }\r\n\r\n    input[type=text] {\r\n        padding: 5px;\r\n    }\r\n\r\n    .filtered {\r\n        position: absolute;\r\n        border: 1px solid var(--blue);\r\n        border-radius: 6px;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        transform: translateY(100%);\r\n        z-index: 99999;\r\n        background: var(--white);\r\n\r\n        ul {\r\n            color: black;\r\n            \r\n            li {\r\n                list-style: none;\r\n                margin: 5px;\r\n                border-bottom: 1px solid var(--grey);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n`\r\n\r\nexport default function EditVisit({ workerName, dateVisit, timeStart, timeEnd, visitServices, customerId, visitId, close }) {\r\n    \r\n    const [newVisit, setNewVisit] = useState({\r\n        worker: workerName,\r\n        date: dateVisit.format('YYYY-MM-DD'),\r\n        start: timeStart,\r\n        end: timeEnd,\r\n        services: visitServices,\r\n    })\r\n\r\n    const [visitCustomer, setVisitCustomer] = useState(customerId);\r\n        \r\n    const { worker, date, start, end, services } = newVisit;\r\n    \r\n    const context = React.useContext(MainContext);\r\n    const { customers, visits } = context;\r\n    \r\n    const handleChange = (e) => {\r\n        if (e.target.name === 'customer') return;\r\n        setNewVisit({\r\n            ...newVisit,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const id = visitCustomer;\r\n\r\n        db.collection('customers').doc(id).collection('visits').doc(visitId).set({ ...newVisit }).then(() => {\r\n            close(false);\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n    const deleteVisit = (e) => {\r\n        e.preventDefault();\r\n        const id = visitCustomer;\r\n\r\n        db.collection('customers').doc(id).collection('visits').doc(visitId).delete().then(() => {\r\n            close(false);\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Title>Edytuj wizytę</Title>\r\n            <Form onChange={handleChange} onSubmit={handleSubmit}>\r\n                <Label className=\"worker\">\r\n                    <span>Pracownik: </span>\r\n                    <select defaultValue={worker} name=\"worker\">\r\n                        <option value=\"Pracownik 1\">Pracownik 1</option>\r\n                        <option value=\"Pracownik 2\">Pracownik 2</option>\r\n                        <option value=\"Pracownik 3\">Pracownik 3</option>\r\n                    </select>\r\n                </Label>\r\n                <Label className=\"customer\">\r\n                    <span>Klient: </span>\r\n                    <select defaultValue={visitCustomer} onChange={(e) => setVisitCustomer(e.target.value)} name=\"customer\" required>\r\n                            <option></option>\r\n                        {customers.map(({firstName, lastName, customerId}) => {\r\n                            let fullName = `${firstName} ${lastName}`;\r\n                            return (\r\n                                <option key={customerId} value={customerId}>{fullName}</option>\r\n                            )\r\n                        })}\r\n                    </select>\r\n                </Label>\r\n                <Label className=\"day\">\r\n                    <span>Dzień: </span>\r\n                    <input type=\"date\" name=\"date\" defaultValue={date} />\r\n                </Label>\r\n                <Label className=\"services\">\r\n                    <span>Usługi: </span>\r\n                    <select defaultValue={services} name=\"services\">\r\n                        <option value=\"strzyżenie\">strzyżenie</option>\r\n                        <option value=\"koloryzacja\">koloryzacja</option>\r\n                        <option value=\"modelowanie\">modelowanie</option>\r\n                    </select>\r\n                </Label>\r\n                <Label className=\"start\">\r\n                    <span>Początek wizyty: </span>\r\n                    <select defaultValue={start} name=\"start\">\r\n                        {hours.map(({ start }) => (<option key={start} value={start}>{start}</option>))}\r\n                    </select>\r\n                </Label>\r\n                <Label className=\"end\">\r\n                    <span>Koniec wizyty: </span>\r\n                    <select defaultValue={end} name=\"end\">\r\n                        {hours.filter(hour => hour.end > start && hour).map(({end}) => (<option key={end} value={end}>{end}</option>))}\r\n                    </select>\r\n                </Label>\r\n                <input className=\"submit\" type=\"submit\" value=\"zapisz\" />\r\n                <Button secondary className=\"delete\" onClick={deleteVisit}>usuń</Button>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nEditVisit.propTypes = {\r\n    workerName: PropTypes.string,\r\n    dateVisit: PropTypes.object,\r\n    timeStart: PropTypes.string,\r\n    timeEnd: PropTypes.string,\r\n}\r\n\r\nEditVisit.defaultProps = {\r\n    dateVisit: moment(),\r\n    workerName: workers[0].name,\r\n    timeStart: hours[0].start,\r\n    timeEnd: hours[0].end,\r\n}","export const getVisitLength = (start, end) => {\r\n    start = start.split(\":\");\r\n    end = end.split(\":\");\r\n    var startDate = new Date(0, 0, 0, start[0], start[1], 0);\r\n    var endDate = new Date(0, 0, 0, end[0], end[1], 0);\r\n    var diff = endDate.getTime() - startDate.getTime();\r\n    var hours = (Math.floor((diff / 1000 / 60 / 60) * 2));\r\n    return hours\r\n}","import React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport EditVisit from '../../components/EditVisit';\r\nimport Modal from '../../components/Modal';\r\nimport { getVisitLength } from '../../utils/getVisitLength';\r\nimport moment from 'moment';\r\n\r\nconst VisitStyles = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    position: relative;\r\n    position: absolute;\r\n    top: ${({ top }) => `${top + 5}px`};\r\n    left: 5px;\r\n    width: calc(100% - 10px);\r\n    height: ${({ height, visitLength }) => visitLength > 0 ? `calc(${height * visitLength - 10}px)` : `calc(${height - 10}px)`};\r\n    background: ${({ color: { r, g, b } }) => `rgb(${r}, ${g}, ${b})`};\r\n    border-radius: 6px;\r\n\r\n    &::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        height: 100%;\r\n        width: 8px;\r\n        border-top-left-radius: 6px;\r\n        border-bottom-left-radius: 6px;\r\n        background: ${({ color: { r, g, b } }) => `rgb(${r - 30}, ${g - 30}, ${b - 30})`};\r\n    }\r\n\r\n    .leftSide {\r\n        margin-left: 8px;\r\n        height: ${({ visitLength }) => visitLength > 2 && '100%'};\r\n        padding: ${({visitLength}) => visitLength > 2 ? '10px' : '0 10px'};\r\n\r\n        .name {\r\n            font-size: 16px;\r\n            span {\r\n                font-size: 12px;\r\n            }\r\n        }\r\n\r\n        .services {\r\n            font-size: 12px;\r\n        }\r\n    }\r\n\r\n    .rightSide {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        height: 100%;\r\n        padding: 0 5px;\r\n\r\n        p {\r\n            font-size: 10px;\r\n            color: var(--darkgrey);\r\n        }\r\n\r\n        .start {\r\n            padding-top: 5px;\r\n        }\r\n\r\n        .end {\r\n            padding-bottom: 5px;\r\n        }\r\n\r\n        .line {\r\n            width: 1px;\r\n            border: 0.5px dashed var(--darkgrey);\r\n            flex: 1;\r\n        }\r\n    }\r\n\r\n`\r\n\r\nexport default function Visit({ top, color, visit, height }) {\r\n    \r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const { firstName, lastName, start, end, services, worker, date } = visit;\r\n\r\n    const dateVisit = moment(date);\r\n\r\n    const toggleEditModal = () => setIsOpen(!isOpen);\r\n\r\n    return (\r\n        <>\r\n        <VisitStyles\r\n            top={top}\r\n            color={color}\r\n            visitLength={getVisitLength(start, end)}\r\n            height={height + 1}\r\n            onClick={toggleEditModal}\r\n        >\r\n            <div className=\"leftSide\">\r\n                <p className=\"name\">{firstName} {lastName}</p>\r\n                <p className=\"services\">{services}</p>\r\n            </div>\r\n            <div className=\"rightSide\">\r\n                <p className=\"start\">{start}</p>\r\n                <div className=\"line\" />\r\n                <p className=\"end\">{end}</p>\r\n            </div>\r\n        </VisitStyles>\r\n            <Modal open={isOpen} close={toggleEditModal}>\r\n                <EditVisit\r\n                    close={setIsOpen}\r\n                    workerName={worker}\r\n                    timeStart={start}\r\n                    timeEnd={end}\r\n                    dateVisit={dateVisit}\r\n                    visitServices={services}\r\n                    customerId={visit.customerId}\r\n                    visitId={visit.visitId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport MainContext from '../../context/MainContext';\r\nimport Visit from './Visit';\r\nimport Modal from '../../components/Modal';\r\nimport AddVisit from '../../components/AddVisit';\r\n\r\nconst FieldStyles = styled.div`\r\n    border-bottom: 1px solid var(--grey);\r\n    border-right: 1px solid var(--grey);\r\n    height: var(--calendarVisitHeight);\r\n    cursor: pointer;\r\n`\r\n\r\nexport default function Field({timeStart, timeEnd, workerName, color, date}) {\r\n    const context = React.useContext(MainContext);\r\n    \r\n    const [offTop, setOffTop] = useState(0);\r\n    const [height, setHeight] = useState(0);\r\n    const [isModal, setIsModal] = useState(false);\r\n    const [allVisits, setAllVisits] = useState([]);\r\n    \r\n    \r\n    const myRef = React.createRef();\r\n    const { visits } = context;\r\n    \r\n    \r\n    useEffect(() => {\r\n        setOffTop(myRef.current.offsetTop);\r\n        setHeight(myRef.current.clientHeight);\r\n        setAllVisits(visits)\r\n    }, [myRef, allVisits])\r\n\r\n\r\n    const toggleModal = () => {\r\n        if (myRef.current.children.length !== 0) return;\r\n        setIsModal(!isModal);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <FieldStyles\r\n            ref={myRef}\r\n            timeStart={timeStart}\r\n            timeEnd={timeEnd}\r\n            workerName={workerName}\r\n            onClick={toggleModal}\r\n        >   \r\n                {allVisits && allVisits.map(visit => {\r\n                if (visit.worker === workerName && timeStart === visit.start && visit.date === date.format('YYYY-MM-DD')) {\r\n                    return (\r\n                        <Visit\r\n                        key={visit.visitId}\r\n                        visit={visit}\r\n                        top={offTop}\r\n                        color={color}\r\n                        height={height}/>\r\n                    )\r\n                }\r\n                })}\r\n        </FieldStyles>\r\n            <Modal open={isModal} setOpen={setIsModal} close={toggleModal}><AddVisit workerName={workerName} dateVisit={date} timeStart={timeStart} timeEnd={timeEnd} close={setIsModal}/></Modal>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { hours, workers } from '../../context/data';\r\nimport Field from './Field';\r\n\r\nconst WorkersStyle = styled.div`\r\n    display: grid;\r\n    grid-template-columns: ${({ count }) => count && `repeat(${count}, 1fr)`};\r\n\r\n    .column {\r\n        position: relative;\r\n        min-width: 300px;\r\n    }\r\n\r\n    .header {\r\n        position: sticky;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 99999;\r\n        background: var(--white);\r\n    }\r\n`\r\n\r\nconst WorkerColor = styled.div`\r\n    width: 20px;\r\n    height: 20px;\r\n    background: ${({ color: { r, g, b } }) => `rgb(${r}, ${g}, ${b})`};\r\n    margin-right: 5px;\r\n    border-radius: 6px;\r\n`\r\n\r\nexport default function WorkersColumns({date}) {\r\n    return (\r\n        <WorkersStyle count={workers.length}>\r\n            {workers.map(({ id, name, color }) => {\r\n                return (\r\n                    <div className=\"column\" key={id}>\r\n                        <div className=\"header\">\r\n                            <WorkerColor color={color} />\r\n                            <p>{name}</p>\r\n                        </div>\r\n                        {hours.map(({ start, end }) => (\r\n                            <Field\r\n                                key={start}\r\n                                timeStart={start}\r\n                                timeEnd={end}\r\n                                workerName={name}\r\n                                color={color}\r\n                                date={date}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )\r\n            })}\r\n        </WorkersStyle>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport Heading from '../components/Heading';\r\nimport Panel from '../components/Panel';\r\nimport Radio from '../components/Radio';\r\nimport Select from '../components/Select';\r\nimport MainContext from '../context/MainContext';\r\nimport CalendarContainer from '../templates/Calendar/CalendarContainer';\r\nimport HoursColumn from '../templates/Calendar/HoursColumn';\r\nimport WorkersColumns from '../templates/Calendar/WorkersColumn';\r\n\r\n\r\nconst CalendarDate = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n        h2 {\r\n            text-align: center;\r\n            padding: 0 5px;\r\n            font-size: clamp(16px, 20px, 24px);\r\n            white-space: nowrap;\r\n        }\r\n\r\n        button {\r\n            border: none;\r\n            background: transparent;\r\n            font-size: 32px;\r\n            transition: transform .3s;\r\n\r\n            &:nth-child(1):hover {\r\n                transform: translateX(-4px);\r\n            }\r\n\r\n            &:nth-child(3):hover {\r\n                transform: translateX(4px);\r\n            }\r\n        }\r\n`\r\n\r\nconst FormStyles = styled.form`\r\n    display: flex;\r\n\r\n    label:nth-child(1) span{\r\n        border-top-left-radius: 6px;\r\n        border-bottom-left-radius: 6px;\r\n    }\r\n\r\n    label:nth-child(2) span{\r\n        border-top-right-radius: 6px;\r\n        border-bottom-right-radius: 6px;\r\n        border-left: none;\r\n    }\r\n`\r\n\r\n\r\nexport default function Calendar() {\r\n\r\n    const [value, setValue] = useState();\r\n    \r\n    const context = React.useContext(MainContext);\r\n    const { date } = context;\r\n\r\n    useEffect(() => {\r\n        setValue(date.clone());\r\n    }, [])\r\n\r\n    const nextDay = () => {\r\n        setValue(value.clone().add(1, 'day'));\r\n    }\r\n\r\n    const prevDay = () => {\r\n        setValue(value.clone().subtract(1, 'day'));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Heading>Kalendarz</Heading>\r\n            <Panel>\r\n                <FormStyles className=\"calendarForm\" onChange={(e) => console.log(e.target.value)}>\r\n                    <Radio checked>Dzień</Radio>\r\n                    <Radio>Tydzień</Radio>\r\n                </FormStyles>\r\n                <CalendarDate className=\"calendarDate\">\r\n                    <button onClick={prevDay}>&#x21E0;</button>\r\n                    <h2>{value && value.format('DD MMMM YYYY')}</h2>\r\n                    <button onClick={nextDay}>&#x21E2;</button>\r\n                </CalendarDate>\r\n                <Select className=\"calendarWorkers\" template=\"Pracownicy\">\r\n                    {[{name: 'Wszyscy'}, {name: 'Pracownik 1'}, {name: 'Pracownik 2'}, {name: 'Pracownik 3'}]}\r\n                </Select>\r\n            </Panel>\r\n            <CalendarContainer>\r\n                <HoursColumn />\r\n                <WorkersColumns date={value}/>\r\n            </CalendarContainer>\r\n        </>\r\n    )\r\n}"],"sourceRoot":""}